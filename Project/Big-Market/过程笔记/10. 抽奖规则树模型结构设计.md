# 需求分析

- 情景 : 我们原先有rule_lock这个计数锁的抽奖中规则, 现在我们需要加上对于库存的核对, 如果从库存中获取失败, 我们直接返回幸运奖
- 使用原先框架的不足, 我们无法动态灵活地配置多种规则流程比如if (A -> TAKE_OVER) -> B else (A -> ALLOW) -> C这种动态且灵活的规则过滤流程
# 解决方法

- 通过决策树实现, 从根节点到叶子节点就是一条完整的规则过滤链
- 我们让树的能到达左节点的前提是上一个节点是ALLOW, 达到右节点的前提是TAKE_OVER(暂时这个章节是这样, 因为还涉及RuleLimitType的值的问题)