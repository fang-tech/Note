# 需求说明

> 这个章节主要是使用责任链重构了抽奖前置规则过滤的代码

# drawio

[drawio](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E5%A4%84%E7%90%86%E6%8A%BD%E5%A5%96%E8%A7%84%E5%88%99.drawio&dark=auto#R%3Cmxfile%3E%3Cdiagram%20id%3D%22C5RBs43oDa-KdzZeNtuy%22%20name%3D%22Page-1%22%3E7R1Zc5tI%2BtdQFT%2FYxQ39CJKc9a4nlZ3MTnaeprCEJTZIaBCK7fn1218fCOgG4QOBZVKpBJpWc3z32YoxWT9%2BToPt6pdkEcaKri4eFWOq6Lrhqir%2BD0ae6IimGjYdWabRgo0dBr5Ff4d8IhvdR4twV5qYJUmcRdvy4DzZbMJ5VhoL0jR5KE%2B7T%2BLyXbfBMhQGvs2DWBz9Hi2yFR11decw%2Fo8wWq74nTUb0SvrgE9mb7JbBYvkoTBkzBRjkiZJRo%2FWj5Mwhq%2FHv8v3m6fv8e0P%2B%2FM%2F%2F737K%2FiP%2F6%2Ffvvx%2BSRe7fs5P8ldIw032tkvrdOmfQbxn34u9a%2FbEP2Ca7DeLEBZRFcNfZesYH2r48H9hlj0xgAf7LMFDSZqtkmWyCeLbJNmyeffJJmPTNDgPNwsPAIvP7%2BJk%2FoMOXUdxzO6Bz9h8F5%2FtsjT5kcMOFsgBAZPj4C6M%2FWD%2BY0kedJLESYovbZJNCEstMDKwdzk83Owwim%2BWpU%2F%2FhcWuLH76R%2F4g%2BGT6WDp7YmctYcJgt0v26TxsmGcw0gjSZcjWWxn7L8j%2B%2FSZe6vG%2Fsz%2F%2Fvv3rjz8uTYa38GIFBGcg%2Fxwm6xA%2FJZ6QhnGQRT%2FLVBAwYlrm8%2FKffk0i%2FCK6yihf09UrtfDHtOgKjA0YllpekT44W%2BSAhfig8FSHIYKbz8BTQ8TTman4vuLOlJml%2BI7iWXCAT116yVW8qTJzYQRfhUvXCrLJgav4qjKzFddT%2FCmM4N%2FCJTxuKp7BVsZ%2FZ0hBhuLPGmgC8PFhFWXht21AAPyA%2BWiZTor4jz%2B3v4yD3Y5h0RHkfh6S%2FQzTLHxsxAp21VZL0MzPHw4cUuNsb1XgjqZaj0clkDfAV4rWqoQP2TG%2Bq3%2BHD5YZ%2BRZ0AD5nCRr2X%2FuEX7jckQ%2Ft4Qm6vn2kP2PX84Uw6DG4AQcIMiCfoBCGuKfMHAV5imvCga%2FBILsrfit64%2FLD4OHCA1awBAMjK6NCEEfLDT6eY3iGmE35ALIICyuPXVhHiwVhS2mI3yS4I0sBJmyBsshXt3zFmsJamOXuGFrlmFRhf%2FeYqVaGalClLZbVotSlpqplrDIkSGWcEqkMsxarXo9EAnpKGApGMoxhGiCThzlRDdbUINhHRibdNI%2BiknZSVEICQI6rFmXNSaobSXSoAoRfp5tUVISXKSvyr%2BGK2kq92H6FbvI6mLkSpaFWIdjvwvRmAadIV9wJpoAgC5dPeEgAfBxj4yU8Lvi7og63zGc1U6QOV0IcblfEYZl9EEfXSG62VcktvU8sN0XVONmGm9tkGc0nqyDafLp4nfraFRabqKKEWi2VULszPJZpoWeI2E5LxDZRr4jtSNg3UjAXwxo62GrXius0GW1cl4%2BBFLjSj4hWZigI27P4uagdiBSPrORpmPPLLcMaqRE8BOlCIiMGQWEVK8%2FoncBMJAEpE7jMaMdfnh2o5LN7xJ53wEjDgzBZhcnPgF3BF8BQxgY08UzyK4cYe9QOFHW8I4ArQ%2FlEYDR7B6NlnCNbtHSRLQ5PqeVPWVFqj%2FFAQg8mTCsSFf4XM0RdvTloCwJkd6tgC4f4OwdxHGJmmgbrMmTKTixwcW3DNMLvC1Zp%2BYdfDxekXLFMUUE6LzrOmIGqXulGl7an20IvkfkxuqM3iSTs0I%2FRgE0iCx1dHC9FMxWV0MyyLRHNZGZcZz4Oexjq78HpUXJ5HDwgPTk9LInTQz6xV7XZ7kU4v3ug2a8No70OaL14UN4%2F0F7reSE%2F9dI0eCpMYKJDrwuNGkZZQXDNSuD9yPw8UHLAGPoIL42YSr%2BNIwt%2BnKHW3hZXnH7VdpkvmgWw%2FTDYtA5ZEwcI%2BDIm%2BLhJbx%2BEByJ3qXFS0fq2XbmWdWZUgN6FmEOjmHsJ0Fy7V9YlOu0g3eo22mUN7GcQnjOrYsrbjsyU107Jfux%2BKWBYcWSbJ4R2rui9CmiO%2FSFUqdbQcKw%2BocEfswCNX%2Fdx%2BJ2Q79AVoipHkipEJ%2BVIzjC8Pp0jt8S7L5%2FYr%2FdGdO9Pw%2FtgH787zEZSWXtSVV8WbawGkL%2BxPJ9ptNsG2Xwliynm8Uhb8SYwiFfBlhtyyZwZ84NX4o4sQmmB4ebaPE5Mb4tIPAbhJcTU4kEoTg6yjgPzpHab3q%2FipCmDMh3aSmq9V0mti3Gr8DELN4udFJa3UMnRXfynllZY5RH7sZLX%2BxSh1YCT9c4P9Up1VHaTl5Zj8CnJ%2Ff0ufG1pRRMuSYKLW0UWWVxjpMNCyPBUElKkp5cZUJRnkiGI410y0Hk56Opjj1FhIFgDw4vFsxtY5h7YIh8u%2F6QaaYyECGdaG%2FO8uU2ig3RtDGBuq2OrFL4SL3vjr6gV31byEe%2BSdBGml%2ByCt0tigFHDN3oOLOLwPsuB0RDyFT7IubwfPBPJ%2BvqExXu0WeJTlt5LpPJtQoZ4im%2B0uKBBckCxZZg2fY0OwID1jo10VaIJXO6oKgDPt03DupUU3UBlQNJlC7UJxxKl8pQqT2Vpcu4UtJumsij6ExOOEVkKI4arS%2FIE8sXBb63yPK6ZRB%2BCRfBqTsHtzXJY8ly7duhbkTBVyUEYVi5gKKz8BM%2B6j0n51T2pRywKI5lm1pUCdqlpunXFhQcPHFliikCenVLUwrTOUr170cK61qbamoa9%2Bs5Fw9C7Aw42b7IMdw%2FROg5oagtUIbIrrVQrSiDzVRQvboOnZA9fZpeB55ed%2Baskjf7GywaHRLAg5aWOmCcVZ3yDXzIUILpa%2BJWDT6sM%2FRI8libeBruMDcyTOA62u%2Bgufw3Ka%2F0ky5I1m9RXrAuTrHOlOSWSNaUka14ZhoRquXP47SthJCoeyMhS%2FFDdQPoV5tJE1hD2i0WARUxmA5K7oCTSJymERHZ4ZiG70AaZAgwfkWxelzN8B3g7%2FNaE6kpg%2BPlMIgKQxs1rv2Bn01ioRya7fI4PxjesP2G5wZ5NEs8Q%2FOtOefWvXXgqMdWxQh8s46xtLlhFWsgpBgQ21jluyZypeRj5lYHaLAuaFTZhwg3hk1mQ1ZowWBDqE7A8sTGDP64FKhg%2FJ%2FbNFnPWSbIBnhARNA4x3TyEu%2ByNSKKeK4kkkdcVt0b%2Baj352%2BWcS3C%2FggVxRKAr1mI%2FHwVye5TB%2FDci4i41AS8MES8MCQ6Q7gZfk12URQmsn9K5EvO2Cfxl%2FI42qzCNsg7h7rSHu9sR2K2XWrX4Kmjx5X%2BbTY1guw03iy%2BYl3wSOerFK8yJFzyL%2BACfLl6oMY%2FMsVPm6JrtiUTviEo0TYD6GejzbevbauBzoqCywKBaZFWM%2BrxIn8FuS%2FtG3UeP4aJTBd9wnSvbQIc%2FJV3fUSW6vq1e8ULGkq7vdKXvSBINR11%2FFGdvIM6cZ%2Bv6NcjP%2BwW8fX7hqOt3oOs3w90VI8N1cO9K19dkKSxdKdi9xBVe8JzpPg5JO0fQ%2Fxmj509dZw6cJBRR9fjDg%2F55F2N1IsbKz2irDJG5u257Iu%2FMVjnL2IPWNvjQq7HCn1KecznaLMO1WVClKd8wjBRtjEiMVko3gkx7fkji1GaKNsYkurBTjkB%2BCIbKKaMSo6HShaHyQNFktEn6Z%2BVDMEr0swygaO8igqKJIZTjtTKjNdJrBEUz1Cu93NsZaYOwSMa4yWiRdCTGhh840cbISScWyeBDJ%2FoYOnnHFsmCqjujNTIANj4Ia0R00xORbxH1ItdRyAGU%2FtiATLSvJ6sKKigrCKsytPmUCq2R5TXPlaKioq5TqS6So%2BPH6PV56droyilXBiBJv0%2BdO%2BuL2GJ0pfLqsk21KJQ1XqFFVcYptEuvLeqyiJapE5yZgerJ%2BBQqKKmFfsSwvnFQN6U9ZUGjpeq1p6BrCdfNO3bDLSakoJ%2F2CKc%2Fn7HtwPDDeG7hefICtfx58qbj4s%2FF0jSxuXixvbLFmrXhlV3tZvrBUV6zK20PHZmdJ6te66zBrS7xux%2Fazz8H8%2FM%2B9IAA0N%2FhgwPbNtAV7wrfEGiUtozojr%2B92Nt%2BnpXtXrpO4LOO9e3n8X61Jsddvhvq5ZwyALA7sLK82XFCh7cqXIuBHC8XQfrjU7q8%2B6RS0c7%2Fu6D%2FwxXdYvumFA8uLhqMqSPFMdTKK16Q2z5nWZPvE22Iqjme2uDl22Br9Hlo%2Feb9FJoKi84JKmL73TeBSkU9eG%2FdCMzqnnP9tyLQRY89Cf9kBEevg3mWsLuM8Z%2BeKuLt6o6wkm6HhgxrdKszh6fM0w387ZdgW1bLuMdvIgioklpGvZrk0mcsc7ec%2FBfRz174FwJDhdozaKp4xMLxpsRxw7qGl%2FZz8TQWtsrtWLBnzILpTs1g8nNfJ93v8nXopVnZZia7ccOcKRlpCDRR94H4wC50m4GoWn6jZ3dKLzqi6lumN7BuCfhKQ0Qk8uaBv4ZbCD7Q0Dc%2FlC81emXfuMbWbfTKSoJrUobjdhVZ49btGFl72%2F4DzWDX2gqarsQMb%2BEriJnK3qyVuNfN4hBxknCqvmSK6Alts%2BOcQ7qlTmQ5C3WyAF%2B9JlJD2KxTkiXBWqvWyqzKVo%2BVO7YRXocerojEQsTv0CBJn%2FX6bSXRKD5OKj40TYzqSfmI1t3O87JSieLmfwXFr7I1rkMUPxqlgPgED7azSA1V94B8vcYmf%2BPmfZJ9bbSyZaPLGiTLEKUzb7cj4kkxG7LOHh5Eu2mtkhLY%2FzZBjiwdsPLpziDR12FenONbPtQkP5yoV4okknMI3JGcRnTNMh1ct2r9VdqeYtHuGtzsnDYGdYuclLoAxY2oh0hPbmXL6P7pyW1hBp0DPbVNnHd63WXClekUHxgaNCGrN2iIaQlfEik83l2HfLdm08VDh3zddMt5URy6w22Y70i2426VxVSBaLpK1nf73XHz5kRKmFrdm0gVpYZsQ%2BrOIjyObAMXWVbWcZFeGKl6iPMaDgvyGiUFEMOATk50w5Hpoo%2FrKRS39vhQhqGWVyjlYBI9COYp7UKebNxIRLSsifvg4Jov7H9UDIDb4FmgKZasWf%2FRhN9hUJFa0YyR0TJLrTsqkmWpnZ8uxlMkj%2BpiSO1VF5Ns9fhCS%2FNZ%2BaRnZ3LakvT2ExOWRE07Q8JCalvC6nX7CvdjONTaQ6PX7ehdUbM%2BG5OzJqLzrk1OJHGfnaPJaUvSCk9qciJJ3F4a9q2V7WKZXLU0aJgCXDAw%2B5fgSDRdRgOzamDaPPDXl4GJZGWEo4HJwGNZfbtpkCx45pDUSbVQIym2EaHAmBbmkBQDnyYEzRj%2FOxRU0uRNk0B3ynJ5XK2RWebwJr43SF7IyzkLWwUyW0swsSRlobJmKHgyZDhYJG%2FoupBeisjKUn%2BhRdJGp2IOheymYuaFDZN9tbCJIrk7MgrZqwWTr%2Fo8xRyi8t0Pl8T3Er78h2aUFWnmGCId6uht6BCfpgnk1B1UPsx%2BVqSFBB78Pw%3D%3D%3C%2Fdiagram%3E%3Cdiagram%20id%3D%22pc0LRBSBq2T3dBTWiot5%22%20name%3D%22%E7%AC%AC%202%20%E9%A1%B5%22%3EddHNEoIgEADgp%2BGuMGadzerSyUNnRjZhBl0GabSePh0wY6wTy7cLyw9hRTueLTfyigI0oYkYCTsSStMsodMwy9NLTjMPjVUiFK1QqRcETII%2BlIA%2BKnSI2ikTY41dB7WLjFuLQ1x2Rx13NbyBDVQ111u9KeGk1z3NV7%2BAauTSOd0dfKblS3G4SS%2B5wOGLWElYYRGdj9qxAD0%2F3vIuft3pT%2FZzMAud%2B7FgCta9p0n0Q6x8Aw%3D%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E)