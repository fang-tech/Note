# [P1868 饥饿的奶牛](https://www.luogu.com.cn/problem/P1868)

## 题目说明

有N个区间(x,y), 每个区间的对应的长度为y-x+1, 现在需要选择不相交的区间, 使长度之和最大

## 题目解析

最开始的想法是区间dp\[i][j], 状态转移方程为dp\[i][j] = max(dp\[i][j], dp\[i][x] + y-x+1 + dp\[y][j])

但是区间dp的时间复杂度为$O(n^3)$, 而这道题的数据要求是$O(n)$, 所以这道题只能线性DP

这道题其实是一道分组背包问题, 问题建模 : 

- 一个y可能对应着多个x, 但是我们只能选择一个, 不能复用
- 每个物品对应的价值是y-x+1
- 这道题是完全背包, 没有体积限制, 所以只需要考虑不能复用这一个限制就行

## 代码框架

```cpp
vector<int> y[N];
int dp[N];
int max_y;

for (int i=1;i<=max_y; i++) { // max_y组物品
    	dp[i] = dp[i-1];
    for (int j=0;j<y.size();j++) { // 遍历组内所有物品, 取一个
        int b = y[i][j];
        dp[i] = max(dp[i], dp[b-1]+i-b+1);
    }
}
```

## 总结

- 是一道迷惑性比较强的题目, 在初次想的时候, 做到区间DP上去了, 但是实际上是线性DP问题, 并且是很经典的线性DP - 分组背包问题
- 线性DP还是区间DP很重要的考察因素就是时间, 区间DP的时间复杂度一般为$O(n^3)$
- 如果出现了能将情况归类的情况, 且每一类里每个小情况不同, 可以考虑分组背包