# DFS : Deep First Search

## 特性

不同于BFS的一层一层的遍历, 深度优先搜索是一个子树一个子树地深入地探索, 探索到最深后再回溯到自己父节点

DFS = 递归

## 实现

```cpp
void DFS(node& father) {
	if (father == nullptr) return;
    DFS(father.l);
    DFS(father.r);
}
```

## 三种遍历输出模式的形象化描述

### 先序遍历

在探索该节点的左节点之前输出

### 中序遍历

在探索该节点的右节点之前输出

### 后序遍历

在探索完该节点的所有子节点后输出

## DFS 常用框架

```cpp
ans; // 用全局变表示答案
void dfs(层数, 其它参数) {
 	if (出局判断){ // 达到最底层, 或者是满足条件后退出
        更新答案; // 更新全局变量ans
        return; // 返回上一层
    }
    (剪枝)		// 在进一步DFS之前进行剪枝
    for (枚举下一层可能的情况) {// 对每个情况继续DFS
		if (used[i] == 0) { // 如果状态i没用过, 就进入下一层
            used[i] = 1;	// 标记状态i表示用过, 在更底层不能再使用
            dfs(层数+1, 其他参数); // 下一层
            used[i] = 0;	// 恢复状态, 回溯式不影响上一层对这个状态的使用
        }
    }
    return; // 返回到上一层
}
```

- 这里的上一层和传递的参数(层数+1) 不是具体的行为, 在遍历树中的体现就是传递子节点

- 剪枝 : 在进行下一步的搜索之前, 先判断是否需要进一步的搜索, 这样可以提前结束无效的分支
- 回溯操作 : 在递归返回前, 将所有状态恢复到递归前的状态, 确保不影响后续的其他操作
